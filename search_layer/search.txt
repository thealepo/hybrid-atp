manage search and FCM
define FCM logic, and updated weights
implement the core search loop